{"remainingRequest":"/Users/conghua/Study/Projects/Vue_CloudMusic/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!/Users/conghua/Study/Projects/Vue_CloudMusic/src/components/findMusic/diyRecommend/MusicListTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/conghua/Study/Projects/Vue_CloudMusic/src/components/findMusic/diyRecommend/MusicListTable.vue","mtime":1613060486000},{"path":"/Users/conghua/Study/Projects/Vue_CloudMusic/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/conghua/Study/Projects/Vue_CloudMusic/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/conghua/Study/Projects/Vue_CloudMusic/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/conghua/Study/Projects/Vue_CloudMusic/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIC8v5o6l5Y+X5Lyg6YCS5p2l55qE5Y+C5pWwCiAgICAgICAgICAgIHF1ZXJ5SWRzOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWRzID8gdGhpcy4kcm91dGUucGFyYW1zLmlkcyA6IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncXVlcnlJZHMnKSwKICAgICAgICAgICAgLy/mn6Xor6LlvZPliY3mrYzljZXmiYDmnInpn7PkuZDnmoRuYW1lIHVybCDkvZzogIXnrYnnrYkKICAgICAgICAgICAgY3VycmVudE11c2ljTGlzdEluZm86IFtdLAogICAgICAgICAgICAvL+atjOWNleeahOatjOabsmlk5ZCI6ZuGCiAgICAgICAgICAgIHNvbmdMaXN0SW5mbzogW10sCiAgICAgICAgICAgIC8v54i257uE5Lu25b2T5YmN5pKt5pS+55qE6Z+z5LmQ55qEaWQKICAgICAgICAgICAgY3VySWQ6IHBhcnNlSW50KHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VyUGxheU11c2ljSWQnKSksCiAgICAgICAgfQogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgLy/ojrflj5bliJfooajkv6Hmga/mlbDmja4KICAgICAgICB0aGlzLmhhbmRsZXJTb25nTGlzdCgpCiAgICAgICAgLy/ms6jlhoznm5HlkKznmoTkuovku7Yg5ZyobWFpbi5qc+S4reWumuS5ieS6hgogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzZXRJdGVtJywgKCkgPT4gewogICAgICAgICAgICB0aGlzLmN1cklkID0gcGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1clBsYXlNdXNpY0lkJykpCiAgICAgICAgfSkKICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIC8v5pS+5YWl5LiK5LiA5Liq57uE5Lu25Lyg6YCS5p2l55qE5Y+C5pWwCiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdxdWVyeUlkcycsIHRoaXMucXVlcnlJZHMpCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC8v5aSE55CG5q2M5Y2V5omA5pyJ5q2M5puy5L+h5oGv55qE5p+l6K+iKOagueaNrmlkKQogICAgICAgIGhhbmRsZXJTb25nTGlzdCgpIHsKICAgICAgICAgICAgdGhpcy4kaHR0cC5nZXQoJ3NvbmcvZGV0YWlsJywge3BhcmFtczoge2lkczogdGhpcy5xdWVyeUlkc319KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRNdXNpY0xpc3RJbmZvID0gcmVzLmRhdGEuc29uZ3MKICAgICAgICAgICAgICAgIC8v5aSE55CG5pe26ZW/5pWw5o2uCiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRNdXNpY0xpc3RJbmZvLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZHQgPSBuZXcgRGF0ZShpdGVtLmR0KQogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1tID0gKGR0LmdldE1pbnV0ZXMoKSArICcnKS5wYWRTdGFydCgyLCAnMCcpCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3MgPSAoZHQuZ2V0U2Vjb25kcygpICsgJycpLnBhZFN0YXJ0KDIsICcwJykKCiAgICAgICAgICAgICAgICAgICAgaXRlbS5kdCA9IG1tICsgJzonICsgc3MKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAvL+iuvue9ruatjOWNleaJgOacieatjOabsueahGlk5L+h5oGvCiAgICAgICAgICAgICAgICB0aGlzLnNldFNvbmdMaXN0SW5mbygpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICAvL+WPjOWHu+atjOabsua3u+WKoOaVsOaNrui/m+WOuyzlubblvqrnjq/mkq3mlL4o5ZCR54i257uE5Lu25Lyg6YCS5Y+C5pWwKQogICAgICAgIHBsYXlNdXNpY0xpc3Qocm93KSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3NldFNvbmdMaXN0SW5mbycsIHRoaXMuc29uZ0xpc3RJbmZvLCByb3cuaWQpCiAgICAgICAgfSwKICAgICAgICAvL+iuvue9ruatjOWNleaJgOacieatjOabsueahGlkCiAgICAgICAgc2V0U29uZ0xpc3RJbmZvKCkgewogICAgICAgICAgICB0aGlzLmN1cnJlbnRNdXNpY0xpc3RJbmZvLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnNvbmdMaXN0SW5mby5wdXNoKGl0ZW0uaWQpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICAvL+eCueWHu+atjOaJi+WQjei3s+i9rOatjOaJi+ivpue7humhtemdogogICAgICAgIHRvU2luZ2VyUGFnZShpZCkgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3Npbmdlci8nICsgaWQpCiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["MusicListTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MusicListTable.vue","sourceRoot":"src/components/findMusic/diyRecommend","sourcesContent":["<template>\n    <!--歌曲列表-->\n    <el-table :data=\"currentMusicListInfo\" ref=\"playTable\" highlight-current-row border stripe\n              style=\"cursor: context-menu;\" @row-dblclick=\"playMusicList\">\n\n        <el-table-column label=\"#\" type=\"index\">\n            <template scope=\"scope\">\n                <img v-if=\"curId === scope.row.id\" src=\"imgs/isPlay.png\" alt=\"\">\n                <p v-else>{{scope.$index+1}}</p>\n            </template>\n        </el-table-column>\n\n\n        <el-table-column v-if=\"false\" label=\"id\" prop=\"id\"></el-table-column>\n\n        <el-table-column label=\"音乐标题\" prop=\"name\"></el-table-column>\n\n        <el-table-column label=\"歌手\" prop=\"ar[0].name\" width=\"80px;\">\n            <template scope=\"scope\">\n                <span v-for=\"(item,index) in scope.row.ar\" style=\"cursor: pointer\" @click=\"toSingerPage(item.id)\">\n                    {{\n                    index === 0 && scope.row.ar.length > 1 && index !== scope.row.ar.length-1\n                    ? item.name +'/' : item.name\n                    }}\n                </span>\n            </template>\n        </el-table-column>\n\n        <el-table-column label=\"专辑名\" prop=\"al.name\"></el-table-column>\n\n        <el-table-column label=\"时长\" prop=\"dt\" width=\"80px;\"></el-table-column>\n\n    </el-table>\n</template>\n\n<script>\n\n    export default {\n        data() {\n            return {\n                //接受传递来的参数\n                queryIds: this.$route.params.ids ? this.$route.params.ids : window.localStorage.getItem('queryIds'),\n                //查询当前歌单所有音乐的name url 作者等等\n                currentMusicListInfo: [],\n                //歌单的歌曲id合集\n                songListInfo: [],\n                //父组件当前播放的音乐的id\n                curId: parseInt(window.localStorage.getItem('curPlayMusicId')),\n            }\n        },\n        created() {\n            //获取列表信息数据\n            this.handlerSongList()\n            //注册监听的事件 在main.js中定义了\n            window.addEventListener('setItem', () => {\n                this.curId = parseInt(localStorage.getItem('curPlayMusicId'))\n            })\n        },\n        mounted() {\n            //放入上一个组件传递来的参数\n            window.localStorage.setItem('queryIds', this.queryIds)\n        },\n        methods: {\n            //处理歌单所有歌曲信息的查询(根据id)\n            handlerSongList() {\n                this.$http.get('song/detail', {params: {ids: this.queryIds}}).then(res => {\n                    this.currentMusicListInfo = res.data.songs\n                    //处理时长数据\n                    this.currentMusicListInfo.forEach(item => {\n                        const dt = new Date(item.dt)\n                        const mm = (dt.getMinutes() + '').padStart(2, '0')\n                        const ss = (dt.getSeconds() + '').padStart(2, '0')\n\n                        item.dt = mm + ':' + ss\n                    })\n                    //设置歌单所有歌曲的id信息\n                    this.setSongListInfo()\n                })\n            },\n            //双击歌曲添加数据进去,并循环播放(向父组件传递参数)\n            playMusicList(row) {\n                this.$emit('setSongListInfo', this.songListInfo, row.id)\n            },\n            //设置歌单所有歌曲的id\n            setSongListInfo() {\n                this.currentMusicListInfo.forEach(item => {\n                    this.songListInfo.push(item.id)\n                })\n            },\n            //点击歌手名跳转歌手详细页面\n            toSingerPage(id) {\n                this.$router.push('/singer/' + id)\n            }\n        }\n    }\n</script>\n\n<style lang=\"less\" scoped>\n\n    /deep/ .el-table_1_column_4 .cell {\n        cursor: pointer !important;\n    }\n</style>\n"]}]}