{"remainingRequest":"/Users/conghua/Study/Projects/Vue_CloudMusic/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!/Users/conghua/Study/Projects/Vue_CloudMusic/src/components/findMusic/diyRecommend/DiyRecommend.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/conghua/Study/Projects/Vue_CloudMusic/src/components/findMusic/diyRecommend/DiyRecommend.vue","mtime":1613060486000},{"path":"/Users/conghua/Study/Projects/Vue_CloudMusic/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/conghua/Study/Projects/Vue_CloudMusic/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/conghua/Study/Projects/Vue_CloudMusic/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/conghua/Study/Projects/Vue_CloudMusic/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgLy/ova7mkq3lm77mlbDmja7liJfooagKICAgICAgICAgICAgYmFubmVySW5mbzogW10sCiAgICAgICAgICAgIC8v6ZyA6KaB5pKt5pS+55qE6Z+z5LmQ5Zyw5Z2ACiAgICAgICAgICAgIG11c2ljVXJsOiAnJywKICAgICAgICAgICAgLy/lvZPliY3pn7PkuZDnmoTor6bmg4Xlr7nosaEKICAgICAgICAgICAgbXVzaWM6IHt9LAogICAgICAgICAgICAvL+aOqOiNkOatjOWNleeahOaVsOaNrgogICAgICAgICAgICBtdXNpY0xpc3Q6IFtdLAogICAgICAgICAgICAvL+eLrOWutuaUvumAgeeahOS/oeaBrwogICAgICAgICAgICBwcml2YXRlTGlzdDogW10sCiAgICAgICAgICAgIC8v5pyA5paw6Z+z5LmQ55qE5o6o6YCB5YiX6KGoCiAgICAgICAgICAgIG5ld011c2ljTGlzdDogW10KCiAgICAgICAgfQogICAgfSwKICAgIHByb3BzOiB7fSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgLy/ojrflj5bova7mkq3lm77mlbDmja4KICAgICAgICB0aGlzLmdldEJhbm5lckluZm8oKTsKICAgICAgICAvL+iOt+WPluaOqOiNkOatjOWNleaVsOaNrgogICAgICAgIHRoaXMuZ2V0TXVzaWNMaXN0KCk7CiAgICAgICAgLy/ojrflj5bni6zlrrbmlL7pgIHnmoTmlbDmja4KICAgICAgICB0aGlzLmdldFByaXZhdGVMaXN0KCkKICAgICAgICAvL+iOt+WPluacgOaWsOmfs+S5kOeahOaOqOmAgeS/oeaBrwogICAgICAgIHRoaXMuZ2V0TmV3TXVzaWNMaXN0KCkKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgLy/ojrflj5bova7mkq3lm77mlbDmja4KICAgICAgICBnZXRCYW5uZXJJbmZvKCkgewogICAgICAgICAgICB0aGlzLiRodHRwLmdldCgnYmFubmVyJykudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgIT09IDIwMCkgdGhpcy4kbWVzc2FnZS5lcnJvcign6L2u5pKt5Zu+5pWw5o2u6I635Y+W5aSx6LSlJykKICAgICAgICAgICAgICAgIHRoaXMuYmFubmVySW5mbyA9IHJlcy5kYXRhLmJhbm5lcnMKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8v54K55Ye7YmFubmVy5oOz54i257uE5Lu25Lyg6YCS5YiH5o2i5a+55bqU55qE6Z+z5LmQLOWSjOS4k+i+keWwgemdogogICAgICAgIC8vIGh0dHBzOi8vYXV0dW1uZmlzaC5jbi9zb25nL2RldGFpbD9pZHM9MTQ3MTA1NzA3OAogICAgICAgIGNoYW5nZVVybChtdXNpY0lkKSB7CiAgICAgICAgICAgIGlmIChtdXNpY0lkID09PSBudWxsKSByZXR1cm4KICAgICAgICAgICAgdGhpcy5nZXRNdXNpY1VybChtdXNpY0lkKQogICAgICAgICAgICB0aGlzLmdldE11c2ljRGV0YWlsKG11c2ljSWQpCgogICAgICAgICAgICAvL+mYsuatonVybOacquiOt+W+l+aPkOS6pOS/oeaBr+WIsOeItue7hOS7tgogICAgICAgICAgICBpZiAodGhpcy5tdXNpY1VybCAhPT0gJycpIHsKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3NldFBhcmVudE11c2ljVXJsJywgdGhpcy5tdXNpY1VybCwgdGhpcy5tdXNpYykKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy/moLnmja5pZOiOt+WPlumfs+S5kHVybAogICAgICAgIGdldE11c2ljVXJsKG11c2ljSWQpIHsKICAgICAgICAgICAgdGhpcy4kaHR0cC5nZXQoJ3NvbmcvdXJsJywge3BhcmFtczoge2lkOiBtdXNpY0lkfX0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMubXVzaWNVcmwgPSByZXMuZGF0YS5kYXRhWzBdLnVybAogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgLy/moLnmja5pZOiOt+WPlumfs+S5kOivpuaDhQogICAgICAgIGdldE11c2ljRGV0YWlsKG11c2ljSWQpIHsKICAgICAgICAgICAgdGhpcy4kaHR0cC5nZXQoJ3NvbmcvZGV0YWlsJywge3BhcmFtczoge2lkczogbXVzaWNJZH19KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLm11c2ljID0gcmVzLmRhdGEuc29uZ3NbMF0KICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8v6I635Y+W5q2M5Y2V5pWw5o2uCiAgICAgICAgZ2V0TXVzaWNMaXN0KCkgewogICAgICAgICAgICAvL+maj+acuuWPluWHuueyvuWTgeatjOWNlSzpgb/lhY3mlbDmja7mmK/mtYHliqjnmoQKICAgICAgICAgICAgdGhpcy4kaHR0cC5nZXQoJy90b3AvcGxheWxpc3QnLCB7CiAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IChNYXRoLnJhbmRvbSgpICogMTI5NykudG9GaXhlZCgwKSAtIDEyLAogICAgICAgICAgICAgICAgICAgIGxpbWl0OiAxMgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLm11c2ljTGlzdCA9IHJlcy5kYXRhLnBsYXlsaXN0czsKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8v54K55Ye75q2M5Y2V6Lez6L2s55WM6Z2iCiAgICAgICAgdG9Tb25nTGlzdFBhZ2UoaWQpIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9zb25nbGlzdC8nICsgaWQpCiAgICAgICAgfSwKICAgICAgICAvL+iOt+WPlueLrOWutuaUvumAgeaVsOaNrgogICAgICAgIGdldFByaXZhdGVMaXN0KCkgewogICAgICAgICAgICB0aGlzLiRodHRwLmdldCgnL3BlcnNvbmFsaXplZC9wcml2YXRlY29udGVudCcpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMucHJpdmF0ZUxpc3QgPSByZXMuZGF0YS5yZXN1bHQKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8v54K55Ye754us5a625pS+5p2+55qE5Zu+54mH6Lez6L2sbXbpobXpnaIKICAgICAgICB0b1ZpZGVvUGFnZShtdklkKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCd0b1ZpZGVvUGFnZS8nICsgbXZJZCk7CiAgICAgICAgfSwKICAgICAgICAvL+aOqOiNkOacgOaWsOmfs+S5kAogICAgICAgIGdldE5ld011c2ljTGlzdCgpIHsKICAgICAgICAgICAgdGhpcy4kaHR0cC5nZXQoJ3BlcnNvbmFsaXplZC9uZXdzb25nJykudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy5uZXdNdXNpY0xpc3QgPSByZXMuZGF0YS5yZXN1bHQKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8v5Y+M5Ye75pKt5pS+6Z+z5LmQCiAgICAgICAgZGJsY2xpY2tQbGF5TXVzaWMocm93KSB7CiAgICAgICAgICAgIHRoaXMuY2hhbmdlVXJsKHJvdy5pZCkKICAgICAgICB9LAogICAgICAgIC8v54K55Ye75q2M5omL5ZCN6Lez6L2s5q2M5omL6K+m57uG6aG16Z2iCiAgICAgICAgdG9TaW5nZXJQYWdlKHJvdykgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3Npbmdlci8nICsgcm93LnNvbmcuYXJ0aXN0c1swXS5pZCkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["DiyRecommend.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DiyRecommend.vue","sourceRoot":"src/components/findMusic/diyRecommend","sourcesContent":["<template>\n\n    <el-container style=\"margin-top: 25px;margin-bottom: 45px;\">\n        <el-header height=\"300px;\">\n            <!--轮播图-->\n            <el-carousel type=\"card\">\n\n                <el-carousel-item v-for=\"(item,index) in bannerInfo\" :key=\"index\">\n                    <el-image @click=\"changeUrl(item.targetId)\" :src=\"item.imageUrl\" fit=\"contain\"\n                              style=\"height: 300px;\"></el-image>\n                    <el-tag :type=\"item.typeTitle === '独家' ? 'danger' : 'primary'\" effect=\"dark\"\n                            style=\"position: absolute; top:85%;left: 90%;border-radius: 14px\">\n                        {{item.typeTitle}}\n                    </el-tag>\n                </el-carousel-item>\n\n            </el-carousel>\n\n        </el-header>\n\n        <el-main>\n            <!--推荐歌单的模块渲染-->\n            <el-row style=\"border-bottom: 2px solid rgb(230,230,230)\">\n                <p style=\"margin-bottom: 10px;font-size: 22px;\">推荐歌单</p>\n            </el-row>\n            <el-row :gutter=\"10\">\n\n                <el-col :span=\"4\" v-for=\"(item,index) in musicList\" style=\"margin-top: 20px;position:relative;\"\n                        :key=\"index\">\n\n                    <!--播放量-->\n                    <div style=\"background: rgba(128,128,128,0.2);color: white;\n                                    width: 96%;position:absolute;z-index: 10;\">\n                        <div style=\"float:right;\">\n                            <i class=\"el-icon-headset\" style=\"margin-right: 5px;\"></i>\n                            {{item.playCount >= 10000 ? (item.playCount/10000).toFixed(0)+'万' : item.playCount}}\n                        </div>\n\n                    </div>\n\n                    <div>\n                        <el-image :src=\"item.coverImgUrl\" @click=\"toSongListPage(item.id)\"\n                                  style=\"width: 100%;height:100%;box-shadow: 0 0 2px 2px gray;border-radius: 10px;cursor: pointer\">\n                        </el-image>\n                    </div>\n\n\n                    <h1 @click=\"toSongListPage(item.id)\" style=\"cursor:pointer;\" :title=\"item.name\">\n                        {{item.name.toString().length >= 30 ? item.name.toString().substring(0,27) + '···' :\n                        item.name}}</h1>\n\n                </el-col>\n\n            </el-row>\n\n\n            <!--独家放送的模块渲染-->\n            <el-row style=\"border-bottom: 2px solid rgb(230,230,230)\">\n                <p style=\"margin-bottom: 10px;font-size: 22px;\">独家放送</p>\n            </el-row>\n\n            <el-row :gutter=\"40\" style=\"margin-top: 25px;\">\n                <el-col :span=\"8\" v-for=\"item in privateList\" :key=\"item.id\">\n                    <i class=\"el-icon-video-play\"\n                       style=\"color: rgba(255,255,255,0.4);font-size: 45px;position: absolute;top: 10px;z-index: 10\"></i>\n                    <el-image @click=\"toVideoPage(item.id)\" :src=\"item.sPicUrl\"\n                              style=\"box-shadow: 0 0 2px 2px gray;border-radius: 5px;cursor:pointer;\"></el-image>\n                    <h1 @click=\"toVideoPage(item.id)\" style=\"cursor: pointer\">{{item.name}}</h1>\n                </el-col>\n            </el-row>\n\n\n            <!--最新音乐的模块渲染-->\n            <el-row style=\"border-bottom: 2px solid rgb(230,230,230)\">\n                <p style=\"margin-bottom: 10px;font-size: 22px;\">最新音乐</p>\n            </el-row>\n\n            <!--最新音乐-->\n            <el-row style=\"margin-top: 25px;\">\n                <!--左侧-->\n                <el-col :span=\"12\">\n                    <el-table :data=\"newMusicList.slice(0,5)\" stripe @row-dblclick=\"dblclickPlayMusic\"\n                              :show-header=\"false\">\n                        <el-table-column type=\"index\">\n                            <template slot-scope=\"scope\">\n                                {{'0'+(scope.$index+1).toString()}}\n                            </template>\n                        </el-table-column>\n\n                        <el-table-column>\n                            <template slot-scope=\"scope\">\n\n                                <i class=\"el-icon-video-play\" @click=\"changeUrl(scope.row.id)\"\n                                   style=\"position: absolute;font-size: 25px;top: 35px;left:35px;z-index: 10;cursor:pointer;\"></i>\n\n                                <el-image :src=\"scope.row.picUrl\" @click=\"changeUrl(scope.row.id)\"\n                                          style=\"width: 75px;height: 75px;cursor:pointer;\"></el-image>\n                                <span style=\"position: absolute;top: 25px;font-size: 15px;font-weight: 500\">\n                                    {{scope.row.name}}\n                                </span>\n                                <span @click=\"toSingerPage(scope.row)\"\n                                      style=\"cursor:pointer;position: absolute;bottom: 25px;font-size: 12px;font-weight: 500\">\n                                    {{scope.row.song.artists[0].name}}\n                                </span>\n                            </template>\n                        </el-table-column>\n                    </el-table>\n                </el-col>\n\n                <!--右侧-->\n                <el-col :span=\"12\">\n                    <el-table :data=\"newMusicList.slice(5)\" @row-dblclick=\"dblclickPlayMusic\" stripe\n                              :show-header=\"false\">\n                        <el-table-column type=\"index\">\n                            <template slot-scope=\"scope\">\n                                {{scope.$index >= 4 ? scope.$index+6 : '0'+(scope.$index+6).toString()}}\n                            </template>\n                        </el-table-column>\n                        <el-table-column>\n                            <template slot-scope=\"scope\">\n                                <el-image :src=\"scope.row.picUrl\" @click=\"changeUrl(scope.row.id)\"\n                                          style=\"width: 75px;height: 75px;cursor:pointer;\"></el-image>\n                                <i class=\"el-icon-video-play\" @click=\"changeUrl(scope.row.id)\"\n                                   style=\"position: absolute;font-size: 25px;top: 35px;left:35px;z-index: 10;cursor:pointer;\"></i>\n\n                                <span style=\"position: absolute;top: 25px;font-size: 15px;font-weight: 500\">\n                                    {{scope.row.name}}\n                                </span>\n\n                                <span @click=\"toSingerPage(scope.row)\"\n                                      style=\"cursor:pointer;position: absolute;bottom: 25px;font-size: 12px;font-weight: 500\">\n                                    {{scope.row.song.artists[0].name}}\n                                </span>\n                            </template>\n                        </el-table-column>\n                    </el-table>\n                </el-col>\n            </el-row>\n\n        </el-main>\n    </el-container>\n</template>\n\n<script>\n    export default {\n        data() {\n            return {\n                //轮播图数据列表\n                bannerInfo: [],\n                //需要播放的音乐地址\n                musicUrl: '',\n                //当前音乐的详情对象\n                music: {},\n                //推荐歌单的数据\n                musicList: [],\n                //独家放送的信息\n                privateList: [],\n                //最新音乐的推送列表\n                newMusicList: []\n\n            }\n        },\n        props: {},\n        created() {\n            //获取轮播图数据\n            this.getBannerInfo();\n            //获取推荐歌单数据\n            this.getMusicList();\n            //获取独家放送的数据\n            this.getPrivateList()\n            //获取最新音乐的推送信息\n            this.getNewMusicList()\n        },\n        methods: {\n            //获取轮播图数据\n            getBannerInfo() {\n                this.$http.get('banner').then(res => {\n                    if (res.status !== 200) this.$message.error('轮播图数据获取失败')\n                    this.bannerInfo = res.data.banners\n                })\n            },\n            //点击banner想父组件传递切换对应的音乐,和专辑封面\n            // https://autumnfish.cn/song/detail?ids=1471057078\n            changeUrl(musicId) {\n                if (musicId === null) return\n                this.getMusicUrl(musicId)\n                this.getMusicDetail(musicId)\n\n                //防止url未获得提交信息到父组件\n                if (this.musicUrl !== '') {\n                    this.$emit('setParentMusicUrl', this.musicUrl, this.music)\n                }\n            },\n            //根据id获取音乐url\n            getMusicUrl(musicId) {\n                this.$http.get('song/url', {params: {id: musicId}}).then(res => {\n                    this.musicUrl = res.data.data[0].url\n                })\n            },\n            //根据id获取音乐详情\n            getMusicDetail(musicId) {\n                this.$http.get('song/detail', {params: {ids: musicId}}).then(res => {\n                    this.music = res.data.songs[0]\n                })\n            },\n            //获取歌单数据\n            getMusicList() {\n                //随机取出精品歌单,避免数据是流动的\n                this.$http.get('/top/playlist', {\n                    params: {\n                        offset: (Math.random() * 1297).toFixed(0) - 12,\n                        limit: 12\n                    }\n                }).then(res => {\n                    this.musicList = res.data.playlists;\n                })\n            },\n            //点击歌单跳转界面\n            toSongListPage(id) {\n                this.$router.push('/songlist/' + id)\n            },\n            //获取独家放送数据\n            getPrivateList() {\n                this.$http.get('/personalized/privatecontent').then(res => {\n                    this.privateList = res.data.result\n                })\n            },\n            //点击独家放松的图片跳转mv页面\n            toVideoPage(mvId) {\n                this.$router.push('toVideoPage/' + mvId);\n            },\n            //推荐最新音乐\n            getNewMusicList() {\n                this.$http.get('personalized/newsong').then(res => {\n                    this.newMusicList = res.data.result\n                })\n            },\n            //双击播放音乐\n            dblclickPlayMusic(row) {\n                this.changeUrl(row.id)\n            },\n            //点击歌手名跳转歌手详细页面\n            toSingerPage(row) {\n                this.$router.push('/singer/' + row.song.artists[0].id)\n            }\n        }\n    }\n</script>\n\n<style lang=\"less\" scoped>\n\n    [class*=el-col-] {\n        display: inline-block;\n        float: none;\n    }\n\n    h1 {\n        font-weight: 500;\n    }\n</style>\n"]}]}