{"remainingRequest":"/Users/conghua/Study/Projects/Vue_CloudMusic/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!/Users/conghua/Study/Projects/Vue_CloudMusic/src/components/findMusic/search/SearchByVideo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/conghua/Study/Projects/Vue_CloudMusic/src/components/findMusic/search/SearchByVideo.vue","mtime":1613060486000},{"path":"/Users/conghua/Study/Projects/Vue_CloudMusic/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/conghua/Study/Projects/Vue_CloudMusic/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/conghua/Study/Projects/Vue_CloudMusic/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/conghua/Study/Projects/Vue_CloudMusic/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgc2VhcmNoRGF0YTogZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMuJHJvdXRlLnBhcmFtcy5kYXRhKSwKICAgICAgICAgICAgLy/lvZPliY3nmoTmkJzntKLmnaHku7YKICAgICAgICAgICAgcXVlcnlJbmZvOiB7CiAgICAgICAgICAgICAgICBrZXl3b3JkczogdGhpcy4kcm91dGUucGFyYW1zLmRhdGEsCiAgICAgICAgICAgICAgICBsaW1pdDogMzAsCiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsCiAgICAgICAgICAgICAgICB0eXBlOiAxMDE0CiAgICAgICAgICAgICAgICAvKiB0eXBlCiAgICAgICAgICAgICAgICAgICAg6buY6K6k5Li6MQogICAgICAgICAgICAgICAgICAgIDE6IOWNleabsiAxMDA65q2M5omLIDEwMDA65q2M5Y2VIDEwMTQ66KeG6aKRCiAgICAgICAgICAgICAgICAqLwogICAgICAgICAgICB9LAogICAgICAgICAgICAvL+afpeivoue7k+aenOaAu+aVsAogICAgICAgICAgICB2aWRlb1RvdGFsOiAwLAogICAgICAgICAgICAvL+atjOabsuaVsOeahOe7k+aenOmbhgogICAgICAgICAgICB2aWRlb0xpc3Q6IFtdLAogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMuZ2V0VmlkZW9SZXN1bHQoKQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAvL+afpeivouaQnOe0oueahOinhumikee7k+aenOmbhgogICAgICAgIGdldFZpZGVvUmVzdWx0KCkgewogICAgICAgICAgICB0aGlzLiRodHRwLmdldCgnL3NlYXJjaCcsIHtwYXJhbXM6IHRoaXMucXVlcnlJbmZvfSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy52aWRlb0xpc3QgPSByZXMuZGF0YS5yZXN1bHQudmlkZW9zCiAgICAgICAgICAgICAgICB0aGlzLnZpZGVvVG90YWwgPSByZXMuZGF0YS5yZXN1bHQudmlkZW9Db3VudAogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgLy/ot7Povazop4bpopHmkq3mlL7pobUKICAgICAgICB0b1ZpZGVvUGFnZShpZCkgewogICAgICAgICAgICBpZiAoaWQubWF0Y2goL1xELykhPW51bGwpIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvdmlkZW9QbGF5LycgKyBpZCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3RvVmlkZW9QYWdlLycgKyBpZCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8v5YiG6aG15o+S5Lu26aG15pWw5pS55Y+YCiAgICAgICAgaGFuZGxlQ3VycmVudENoYW5nZShuZXdQYWdlKSB7CiAgICAgICAgICAgIHRoaXMucXVlcnlJbmZvLm9mZnNldCA9IChuZXdQYWdlIC0gMSkgKiB0aGlzLnF1ZXJ5SW5mby5saW1pdAogICAgICAgICAgICBpZiAodGhpcy5xdWVyeUluZm8ub2Zmc2V0ID49IHRoaXMuc29uZ1RvdGFsKSB0aGlzLnF1ZXJ5SW5mby5vZmZzZXQgPSB0aGlzLnNvbmdUb3RhbAogICAgICAgICAgICB0aGlzLmdldFZpZGVvUmVzdWx0KCk7CiAgICAgICAgfSwKICAgIH0KfQo="},{"version":3,"sources":["SearchByVideo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SearchByVideo.vue","sourceRoot":"src/components/findMusic/search","sourcesContent":["<template>\n    <div style=\"margin-bottom: 75px;\">\n        <el-row :gutter=\"10\">\n\n            <el-col :span=\"4\" v-for=\"(item,index) in videoList\" style=\"margin-top: 20px;position:relative;\"\n                    :key=\"index\">\n\n                <!--播放量-->\n                <div style=\"background: rgba(128,128,128,0.2);color: white;\n                                    width: 96%;position:absolute;z-index: 10;\">\n                    <div style=\"float:right;\">\n                        <i class=\"el-icon-headset\" style=\"margin-right: 5px;\"></i>\n                        {{item.playTime >= 10000 ? (item.playTime/10000).toFixed(0)+'万' :\n                        item.playTime}}\n                    </div>\n\n                </div>\n\n                <div>\n                    <el-image :src=\"item.coverUrl\" @click=\"toVideoPage(item.vid)\"\n                              style=\"box-shadow: 0 0 2px 2px gray;border-radius: 10px;cursor: pointer\">\n                    </el-image>\n                </div>\n\n\n                <h1 @click=\"toVideoPage(item.vid)\" style=\"cursor:pointer;\">{{item.title}}</h1>\n\n            </el-col>\n        </el-row>\n        <!--分页-->\n        <el-pagination style=\"display: block;width: 20%;margin: 15px auto\"\n                       layout=\"prev, pager, next\" :page-size=\"queryInfo.limit\"\n                       :total=\"videoTotal\" @current-change=\"handleCurrentChange\">\n        </el-pagination>\n    </div>\n</template>\n\n<script>\n    export default {\n        data() {\n            return {\n                searchData: decodeURIComponent(this.$route.params.data),\n                //当前的搜索条件\n                queryInfo: {\n                    keywords: this.$route.params.data,\n                    limit: 30,\n                    offset: 0,\n                    type: 1014\n                    /* type\n                        默认为1\n                        1: 单曲 100:歌手 1000:歌单 1014:视频\n                    */\n                },\n                //查询结果总数\n                videoTotal: 0,\n                //歌曲数的结果集\n                videoList: [],\n            }\n        },\n        created() {\n            this.getVideoResult()\n        },\n        methods: {\n            //查询搜索的视频结果集\n            getVideoResult() {\n                this.$http.get('/search', {params: this.queryInfo}).then(res => {\n                    this.videoList = res.data.result.videos\n                    this.videoTotal = res.data.result.videoCount\n                })\n            },\n            //跳转视频播放页\n            toVideoPage(id) {\n                if (id.match(/\\D/)!=null) {\n                    this.$router.push('/videoPlay/' + id);\n                } else {\n                    this.$router.push('/toVideoPage/' + id);\n                }\n            },\n            //分页插件页数改变\n            handleCurrentChange(newPage) {\n                this.queryInfo.offset = (newPage - 1) * this.queryInfo.limit\n                if (this.queryInfo.offset >= this.songTotal) this.queryInfo.offset = this.songTotal\n                this.getVideoResult();\n            },\n        }\n    }\n</script>\n\n<style lang=\"less\" scoped>\n    [class*=el-col-] {\n        display: inline-block;\n        float: none;\n    }\n\n    h1 {\n        font-weight: 500;\n    }\n</style>\n"]}]}